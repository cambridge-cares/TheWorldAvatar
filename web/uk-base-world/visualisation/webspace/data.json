{
    "name": "UK Base World",
    "groups": [
        {
            "name": "Regions",
            "sources": [
                {
                    "id": "gb-countries-source",
                    "type": "vector",
                    "tiles": [
                        "http://localhost:38383/geoserver/twa/wms?service=WMS&version=1.1.0&request=GetMap&layers=twa:countries_gb&bbox={bbox-epsg-3857}&width=256&height=256&srs=EPSG:3857&format=application/vnd.mapbox-vector-tile"
                    ]
                },
                {
                    "id": "ni-countries-source",
                    "type": "vector",
                    "tiles": [
                        "http://localhost:38383/geoserver/twa/wms?service=WMS&version=1.1.0&request=GetMap&layers=twa:countries_ni&bbox={bbox-epsg-3857}&width=256&height=256&srs=EPSG:3857&format=application/vnd.mapbox-vector-tile"
                    ]
                },
                {
                    "id": "gb-counties-source",
                    "type": "vector",
                    "tiles": [
                        "http://localhost:38383/geoserver/twa/wms?service=WMS&version=1.1.0&request=GetMap&layers=twa:counties_gb&bbox={bbox-epsg-3857}&width=256&height=256&srs=EPSG:3857&format=application/vnd.mapbox-vector-tile"
                    ]
                },
                {
                    "id": "ni-counties-source",
                    "type": "vector",
                    "tiles": [
                        "http://localhost:38383/geoserver/twa/wms?service=WMS&version=1.1.0&request=GetMap&layers=twa:counties_ni&bbox={bbox-epsg-3857}&width=256&height=256&srs=EPSG:3857&format=application/vnd.mapbox-vector-tile"
                    ]
                }
            ],
            "layers": [
                {
                    "id": "gb-countries-fill-layer",
                    "name": "Countries",
                    "source": "gb-countries-source",
                    "source-layer": "countries_gb",
                    "interactions": "hover-only",
                    "type": "fill",
                    "layout": {
                        "visibility": "none"
                    },
                    "paint": {
                        "fill-color": "#2edaff",
                        "fill-opacity": [
                            "case",
                            ["==", ["get", "iri"], "[HOVERED-IRI]"],
                            0.45,
                            0.15
                        ]
                    }
                },
                {
                    "id": "gb-countries-line-layer",
                    "name": "Countries",
                    "source": "gb-countries-source",
                    "source-layer": "countries_gb",
                    "interactions": "hover-only",
                    "type": "line",
                    "layout": {
                        "visibility": "none"
                    },
                    "paint": {
                        "line-color": "#2edaff",
                        "line-width": 1,
                        "line-opacity": 0.3
                    }
                },
                {
                    "id": "ni-countries-fill-layer",
                    "name": "Countries",
                    "source": "ni-countries-source",
                    "source-layer": "countries_ni",
                    "interactions": "hover-only",
                    "type": "fill",
                    "layout": {
                        "visibility": "none"
                    },
                    "paint": {
                        "fill-color": "#2edaff",
                        "fill-opacity": [
                            "case",
                            ["==", ["get", "iri"], "[HOVERED-IRI]"],
                            0.45,
                            0.15
                        ]
                    }
                },
                {
                    "id": "ni-countries-line-layer",
                    "name": "Countries",
                    "source": "ni-countries-source",
                    "source-layer": "countries_ni",
                    "interactions": "hover-only",
                    "type": "line",
                    "layout": {
                        "visibility": "none"
                    },
                    "paint": {
                        "line-color": "#2edaff",
                        "line-width": 1,
                        "line-opacity": 0.3
                    }
                },
                {
                    "id": "gb-counties-fill-layer",
                    "name": "Ceremonial counties",
                    "source": "gb-counties-source",
                    "source-layer": "counties_gb",
                    "interactions": "hover-only",
                    "type": "fill",
                    "layout": {
                        "visibility": "visible"
                    },
                    "paint": {
                        "fill-color": "#2edaff",
                        "fill-opacity": [
                            "case",
                            ["==", ["get", "iri"], "[HOVERED-IRI]"],
                            0.45,
                            0.15
                        ]
                    }
                },
                {
                    "id": "gb-counties-line-layer",
                    "name": "Ceremonial counties",
                    "source": "gb-counties-source",
                    "source-layer": "counties_gb",
                    "interactions": "hover-only",
                    "type": "line",
                    "layout": {
                        "visibility": "visible"
                    },
                    "paint": {
                        "line-color": "#2edaff",
                        "line-width": 1,
                        "line-opacity": 0.3
                    }
                },
                {
                    "id": "ni-counties-fill-layer",
                    "name": "Ceremonial counties",
                    "source": "ni-counties-source",
                    "source-layer": "counties_ni",
                    "interactions": "hover-only",
                    "type": "fill",
                    "layout": {
                        "visibility": "visible"
                    },
                    "paint": {
                        "fill-color": "#2edaff",
                        "fill-opacity": [
                            "case",
                            ["==", ["get", "iri"], "[HOVERED-IRI]"],
                            0.45,
                            0.15
                        ]
                    }
                },
                {
                    "id": "ni-counties-line-layer",
                    "name": "Ceremonial counties",
                    "source": "ni-counties-source",
                    "source-layer": "counties_ni",
                    "interactions": "hover-only",
                    "type": "line",
                    "layout": {
                        "visibility": "visible"
                    },
                    "paint": {
                        "line-color": "#2edaff",
                        "line-width": 1,
                        "line-opacity": 0.3
                    }
                }
            ]
        },
        {
            "name": "Population data",
            "sources": [
                {
                    "id": "uk-population-source",
                    "type": "raster",
                    "tiles": [
                        "http://localhost:38383/geoserver/twa/wms?service=WMS&version=1.1.0&request=GetMap&layers=twa:population&bbox={bbox-epsg-3857}&width=256&height=256&srs=EPSG:3857&transparent=true&format=image/png"
                    ]
                }
            ],
            "layers": [
                {
                    "id": "uk-population-layer",
                    "name": "UK Population Count",
                    "source": "uk-population-source",
                    "type": "raster",
                    "layout": {
                        "visibility": "none"
                    }
                }
            ]
        },
        {
            "name": "Electrical infrastructure",
            "stack": "http://localhost:38383/",
            "sources": [
                {
                    "id": "uk-power-source",  
                    "type": "vector",
                    "tiles": [
                        "http://localhost:38383/geoserver/twa/wms?service=WMS&version=1.1.0&request=GetMap&layers=twa:dukes_2023&bbox={bbox-epsg-3857}&width=256&height=256&srs=EPSG:3857&format=application/vnd.mapbox-vector-tile"
                    ]
                },
                {
                    "id": "uk-power-radius-source",  
                    "type": "vector",
                    "tiles": [
                        "http://localhost:38383/geoserver/twa/wms?service=WMS&version=1.1.0&request=GetMap&layers=twa:dukes_2023_pop&bbox={bbox-epsg-3857}&width=256&height=256&srs=EPSG:3857&format=application/vnd.mapbox-vector-tile"
                    ]
                }
                
            ], 
            "layers": [
                {
                    "id": "power_renewable_layer",
                    "name": "Power generation (renewable)",
                    "source": "uk-power-source",
                    "source-layer": "dukes_2023",
                    "type": "circle",
                    "filter": [
                        "!",
                        [
                            "in",
                            ["get", "type"],
                            ["literal", ["Fossil Fuel", "Nuclear"]]
                        ]
                    ],
                    "layout": {
                        "visibility": "none",
                        "circle-sort-key": [
                            "*", -1.0, ["get", "capacity"]
                        ]
                    },
                    "paint": {
                        "circle-stroke-color": "#000000",
                        "circle-stroke-width": 1,
                        "circle-opacity": [
                            "case",
                            ["==", ["get", "iri"], "[HOVERED-IRI]"],
                            1.0,
                            0.65
                        ],
                        "circle-radius": [
                            "interpolate",
                            ["linear"],
                            ["get", "capacity"],
                            0, 4,
                            100, 8,
                            1000, 14,
                            2250, 28
                        ],
                        "circle-color": [
                            "case",
                            ["==", ["get", "primary_fuel"], "Biomass"], "#66ff66",
                            ["==", ["get", "primary_fuel"], "MSW"], "#006600",
                            ["==", ["get", "primary_fuel"], "Wind"], "#99ccff",
                            ["==", ["get", "primary_fuel"], "Hydro"], "#006699",
                            ["==", ["get", "primary_fuel"], "Pumped hydro"], "#006699",
                            ["==", ["get", "primary_fuel"], "Solar"], "#ffff99",
                            "#FFFFFF"
                        ]
                    }
                },
                {
                    "id": "power_fossil_layer",
                    "name": "Power generation (non-renewable)",
                    "source": "uk-power-source",
                    "source-layer": "dukes_2023",
                    "type": "circle",
                    "filter": [
                        "in",
                        ["get", "type"],
                        ["literal", ["Fossil Fuel", "Nuclear"]]
                    ],
                    "layout": {
                        "visibility": "none",
                        "circle-sort-key": [
                            "*", -1.0, ["get", "capacity"]
                        ]
                    },
                    "paint": {
                        "circle-stroke-color": "#000000",
                        "circle-stroke-width": 1,
                        "circle-opacity": [
                            "case",
                            ["==", ["get", "iri"], "[HOVERED-IRI]"],
                            1.0,
                            0.65
                        ],
                        "circle-radius": [
                            "interpolate",
                            ["linear"],
                            ["get", "capacity"],
                            0, 4,
                            100, 8,
                            1000, 14,
                            2250, 28
                        ],
                        "circle-color": [
                            "case",
                            ["==", ["get", "primary_fuel"], "Diesel/Gas Oil"], "#cccccc",
                            ["==", ["get", "primary_fuel"], "Coal"], "#333333",
                            ["==", ["get", "primary_fuel"], "Sour Gas"], "#ff9999",
                            ["==", ["get", "primary_fuel"], "Natural Gas"], "#660000",
                            ["==", ["get", "primary_fuel"], "Nuclear"], "#999900",
                            "#FFFFFF"
                        ]
                    }
                },
                {
                    "id": "power_renewable_radius_layer",
                    "name": "Power generation (renewable)",
                    "source": "uk-power-radius-source",
                    "source-layer": "dukes_2023_pop",
                    "order": -1,
                    "minzoom": 9,
                    "treeable": false,
                    "clickable": false,
                    "type": "fill",
                    "filter": [
                        "==", ["get", "iri"], "[SELECTED-IRI]"
                    ],
                    "layout": {
                        "visibility": "none"
                    },
                    "paint": {
                        "fill-outline-color": "#000000",
                        "fill-color": "#000000",
                        "fill-opacity": 0.10
                    }
                },
                {
                    "id": "power_fossil_radius_layer",
                    "name": "Power generation (non-renewable)",
                    "source": "uk-power-radius-source",
                    "source-layer": "dukes_2023_pop",
                    "order": -1,
                    "minzoom": 9,
                    "treeable": false,
                    "clickable": false,
                    "type": "fill",
                    "filter": [
                        "==", ["get", "iri"], "[SELECTED-IRI]"
                    ],
                    "layout": {
                        "visibility": "none"
                    },
                    "paint": {
                        "fill-outline-color": "#000000",
                        "fill-color": "#000000",
                        "fill-opacity": 0.10
                    }
                }
            ]
        }
    ]
}