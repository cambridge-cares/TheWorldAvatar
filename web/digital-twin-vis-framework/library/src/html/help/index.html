<html>
    <head>
        <title>Visualisation Help</title>
        <meta charset="utf-8">
        <style>
            html,
            body {
                width: 100%;
                height: 100%;
                margin: 0px;
                padding: 0px;

                background-image: url("./background.jpg");
                background-repeat: repeat;
                background-size: cover;
            }

            #contentContainer {
                width: 75%;
                min-width: 800px;

                margin: auto;
                padding: 40px;

                font-family: "Inter", sans-serif !important;
                font-size: 12pt;
                line-height: 22pt;

                border-style: solid;
                border-color: grey;
                border-width: 0px 1px 0px 1px;
                background-color: white;
            }

            h1, h2, h3 {
                margin: 0px;
                padding: 0px 0px 10px 0px;
                border-style: solid;
                border-color: lightgray;
                border-width: 0px 0px 1px 0px;
            }

            img {
                margin: auto;
                object-fit: contain;
            }

            .imgContainer {
                width: 100%;
                display: inline-block;
                text-align: center;
                justify-content: center;
                align-items: center;
            }
            .caption {
               text-align: center;
               font-size: 10pt;
               font-style: italic;
               display: block;
               color:gray;
               padding-top: 5px;
               clear: both;
            }
        </style>
    </head>
    <body>
        <div id="contentContainer">
            <h1>Visualisation Help</h1>
            <p>This page provides user-friendly instructions on how to interact with the common functionality provided to all visualisations by <a href="https://cmcl.io">CMCL's</a> Digital Twin Visualisation Framework (DTVF). For further assistance, technical support, or details on the data present on the visualisation (or the manner in which it's presented) please contact the <a href="mailto:support@cmclinnovations.com">CMCL technical team</a>.</p>
            <br/>

            <h3>Moving the map</h3>
            <p>Users can interact with the map via their mouse or pointing device, keyboard shortcuts are not supported at the time of writing. Panning can be achieved with the left mouse button, rotating with the right, and zooming can be achieved by zooming the scroll wheel.</p>
            <div class="imgContainer">
                <img src="./mouse-controls.png" width="400px"/>
            </div>
            <span class="caption">Mouse button functions</span>
            <br/>

            <h3>Imagery</h3>
            <p>A number of different imagery options for the map may have been provided as part of the visualisation; these may include vector-style outlines of streets/terrain, raw satellite images, or a mix. Users can change the currently active imagery layer by selecting the appropriate radio button within the "Imagery" controls on the left-hand side of the visualisation.</p>
            <p>In some cases, 3D terrain can also be enabled via the toggle presented alongside the "Imagery" controls.</p>
            <br/>
            <div class="imgContainer">
                <img src="./imagery.jpg" width="90%"/>
            </div>
            <span class="caption">Different imagery options and their controls</span>
            <br/>

            <h3>Layers</h3>
            <table width="100%">
                <tr>
                    <td width="80%" style="vertical-align: top;">
                        <br/>
                        <p>Data may be presented in different layers, grouped in a hierarchy that is most intrinsic to the data. Using the "Layers" panel to the left-hand of the page, users can select individual layers to hide/show the corresponding data on the map, or toggle entire groups of layers on/off with a single click.</p>
                        <p>In certain visualisations, a toggle control to hide or show placename labels is also available at the top of the aforementioned panel.</p>
                    </td>
                    <td width="20%">
                        <div style="padding: 25px;">
                            <img src="./layers.jpg" width="200px"/>
                            <span class="caption">Layer controls</span>
                        </div>
                    </td>
                </tr>
            </table>         
            <br/>

            <h3>Side Panel</h3>
            <p>The side panel is an area to the right-hand side of the visualisation that houses introductory content, the visualisation's legend, and (optionally) a number of links to external resources. The side panel can be collapsed/expanded or fully maximised/minimised at any time using the associated controls.</p>
            <p>In addition to static content, the side panel will also display available information on the currently selected location. Depending on the availability of data on the selected location, a tree of associated properties and values is shown; this may be limited to values intrinsic to the selected data set, or in some cases associated data can be queried from remote knowledge graphs or databases.</p>
            <table width="100%">
                <tr>
                    <td width="50%">
                        <div class="imgContainer" style="padding: 25px;">
                            <img src="./metadata-1.jpg" width="400px"/>
                            <span class="caption">Metadata properties</span>
                        </div>
                    </td>
                    <td width="50%">
                        <div class="imgContainer" style="padding: 25px;">
                            <img src="./metadata-2.jpg" width="400px"/>
                            <span class="caption">Historical metadata</span>
                        </div>
                    </td>
                </tr>
            </table>         
            <br/>
        
            <h3>Filtering</h3>
            <p>In some visualisations, a simple filter/search functionality is also provided to help users locate features of interest. Accessed via the CTRL+F keyboard shortcut, this feature allows users to enter search terms that filter out all locations that do not match.
            <p>Note that any location-based clustering features that have been enabled (i.e. when features group together after zooming out) will be temporarily disabled whilst the search controls are visible. This ensures that users can clearly see what individual locations match the filter without having to worry about the case in which some locations within a cluster match and some do not.</p>
            <p><i>Please note, at the time of writing this filtering functionality is only available in 2D (i.e. Mapbox) visualisations.</i></p>
            <table width="100%">
                <tr>
                    <td width="50%">
                        <div class="imgContainer" style="padding: 25px;">
                            <img src="./filter-before.jpg" width="400px"/>
                            <span class="caption">Before filtering</span>
                        </div>
                    </td>
                    <td width="50%">
                        <div class="imgContainer" style="padding: 25px;">
                            <img src="./filter-after.jpg" width="400px"/>
                            <span class="caption">With an active filter</span>
                        </div>
                    </td>
                </tr>
            </table>      
            
            <h3>Clipping Planes</h3>
            <p>In some 3D visualisations, an optional feature is present to vertically bisect data, providing a view of the model(s) up until a changeable height. When supported, users can enable this option by selecting the 
            "Enable clipping planes?" option. Once enabled, selecting an appropriate target layer will enable the clipping plane as well as display a sliding control to change the cut-off height. At the time of writing, the 
            clipping planes feature only supports targeting a single layer at any one time.</p>
            <p>Using the sliding control on the right of the page, users can adjust the height of the clipping plane (shown in metres above sea level). If set, specific height levels can also be selected; these, for example, 
            could be used to snap the clipping plane to the height of specific floors within a building model.</p>
            <br/>
            <div class="imgContainer">
                <img src="./clipping-planes.jpg" width="800px"/>
            </div>
            <span class="caption">Clipping plane feature</span> 
        </div>
    </body>
</html>