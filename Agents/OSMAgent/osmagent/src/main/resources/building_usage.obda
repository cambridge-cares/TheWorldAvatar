[PrefixDeclaration]
xsd:    http://www.w3.org/2001/XMLSchema#
bot:    https://w3id.org/bot#
: 	https://www.theworldavatar.com/kg/ontobuiltenv/
twa:    https://www.theworldavatar.com/kg/

[MappingDeclaration] @collection [[
mappingId	Building Usage
target		twa:Building/{building_iri} :hasPropertyUsage twa:{propertyusage_iri} .
            twa:{propertyusage_iri} a :{ontobuilt} ;
                :hasUsageShare {usageshare}^^xsd:float ;
                :hasUsageLabel {name}^^xsd:string .
source      SELECT DISTINCT COALESCE(p.name, o.name) AS name, 
            u.building_iri,
            u.ontobuilt,
            u.propertyusage_iri,
            u.usageshare
            FROM usage.usage AS u
            LEFT JOIN public.points AS p ON u.building_iri = p.building_iri
            LEFT JOIN public.polygons AS o ON u.building_iri = o.building_iri
]]