[PrefixDeclaration]
fh:         http://www.theworldavatar.com/ontology/OntoFHRS/
gs:         https://www.theworldavatar.com/kg/ontogreenspace/
rdf:        http://www.w3.org/1999/02/22-rdf-syntax-ns#
owl:        http://www.w3.org/2002/07/owl#
xsd:        http://www.w3.org/2001/XMLSchema#

[MappingDeclaration] @collection [[
mappingId       BasicBusinessInfo
target      fh:{FHRSID} a fh:BusinessEstablishment ; fh:hasBusinessName "{BusinessName}"^^xsd:string ; fh:hasBusinessType "{BusinessType}"^^xsd:string ; fh:hasPostcode "{PostCode}"^^xsd:string .
source      SELECT "FHRSID", "BusinessName", "BusinessType", "PostCode" 
            FROM "fhr_cambridge";

mappingId       BusinessLocation
target      fh:GeoPoint_{FHRSID} a fh:Geolocation ; fh:hasLongitude "{Geocode/Longitude}"^^xsd:float ; fh:hasLatitude "{Geocode/Latitude}"^^xsd:float ; fh:hasPostcode "{PostCode}"^^xsd:string .
source      SELECT "FHRSID", "Geocode/Longitude", "Geocode/Latitude", "PostCode"
            FROM "fhr_cambridge";

mappingId       RatingDetails
target      fh:{FHRSID} fh:hasRatingValue "{RatingValue}"^^xsd:string ; fh:hasRatingDate "{RatingDate}"^^xsd:date .
source      SELECT "FHRSID", "RatingValue", "RatingDate"
            FROM "fhr_cambridge";

mappingId       GreenspaceBasicInfo
target      gs:{id} a gs:Greenspace ; gs:hasFunction "{function}"^^xsd:string ; gs:hasDistrictName1 "{distName1}"^^xsd:string ; gs:hasDistrictName2 "{distName2}"^^xsd:string ; gs:hasDistrictName3 "{distName3}"^^xsd:string ; gs:hasDistrictName4 "{distName4}"^^xsd:string .
source      SELECT "id", "function", "distName1", "distName2", "distName3", "distName4"
            FROM "GB_GreenspaceSite";

mappingId       GreenspaceLocation
target      gs:GeoPoint_{id} a gs:SpatialLocation ; gs:hasGeometry "{wkb_geometry}" ; gs:hasTransformedGeometry "{geometry_4326}"^^xsd:string ; gs:linkedToGreenspace gs:{id} .
source      SELECT "id", "wkb_geometry", ST_AsText(ST_Transform("wkb_geometry", 4326)) AS "geometry_4326"
            FROM "GB_GreenspaceSite";

]]
