{
    "database": "postgres",
    "workspace": "the_world_avatar",
    "datasetDirectory": "ukpn_pylons",
    "skip": false,
    "dataSubsets": [
        {
            "type": "tabular",
            "skip": false,
            "table": "ukpn_line_styling",
            "subdirectory": "tabular"
        },
        {
            "type": "vector",
            "skip": false,
            "table": "ukpn_overhead_lines_high_distribution",
            "sql": "ALTER TABLE ukpn_overhead_lines_high_distribution ADD COLUMN IF NOT EXISTS voltage_level VARCHAR ; update ukpn_overhead_lines_high_distribution SET voltage_level = 'DH' ;",
            "subdirectory": "vector/ukpn-hv-overhead-lines-shapefile",
            "ogr2ogrOptions": {
                "otherOptions": {
                    "-nlt": [
                        "MULTILINESTRING"
                    ]
                }
            },
            "geoServerSettings": {
                "virtualTable": {
                    "name": "ukpn_overhead_lines_low",
                    "sql": "SELECT wkb_geometry, line_colour, line_width FROM ukpn_overhead_lines_high_distribution, ukpn_line_styling WHERE ukpn_overhead_lines_high_distribution.voltage_level = ukpn_line_styling.voltage_level",
                    "escapeSql": false,
                    "geometry": {
                        "name": "wkb_geometry",
                        "type": "MultiLineString",
                        "srid": 4326
                    }
                },
                "defaultStyle": "the_world_avatar:overhead-lines"
            }
        },
        {
            "type": "vector",
            "skip": false,
            "table": "ukpn_overhead_lines_low_distribution",
            "sql": "ALTER TABLE ukpn_overhead_lines_low_distribution ADD COLUMN IF NOT EXISTS voltage_level VARCHAR ; update ukpn_overhead_lines_low_distribution SET voltage_level = 'DL' ;",
            "subdirectory": "vector/ukpn-lv-overhead-lines-shapefile",
            "geoServerSettings": {
                "virtualTable": {
                    "name": "ukpn_overhead_lines_low_distribution",
                    "sql": "SELECT wkb_geometry, line_colour, line_width FROM ukpn_overhead_lines_low_distribution, ukpn_line_styling WHERE ukpn_overhead_lines_low_distribution.voltage_level = ukpn_line_styling.voltage_level",
                    "escapeSql": false,
                    "geometry": {
                        "name": "wkb_geometry",
                        "type": "MultiLineString",
                        "srid": 4326
                    }
                },
                "defaultStyle": "the_world_avatar:overhead-lines"
            }
        },
        {
            "type": "vector",
            "skip": false,
            "table": "ukpn_poles_towers_medium",
            "sql": "ALTER TABLE ukpn_poles_towers_medium ADD COLUMN IF NOT EXISTS voltage_level VARCHAR ; UPDATE ukpn_poles_towers_medium SET voltage_level = 'M' ;",
            "subdirectory": "vector/ukpn-33kv-poles-towers",
            "geoServerSettings": {
                "virtualTable": {
                    "name": "ukpn_poles_towers_medium",
                    "sql": "SELECT wkb_geometry, pylon_icon, icon_size FROM ukpn_poles_towers_medium, ukpn_line_styling WHERE ukpn_poles_towers_medium.voltage_level = ukpn_line_styling.voltage_level",
                    "escapeSql": false,
                    "geometry": {
                        "name": "wkb_geometry",
                        "type": "Point",
                        "srid": 4326
                    }
                },
                "defaultStyle": "the_world_avatar:poles-towers"
            }
        },
        {
            "type": "vector",
            "skip": false,
            "table": "ukpn_overhead_lines_medium",
            "sql": "ALTER TABLE ukpn_overhead_lines_medium ADD COLUMN IF NOT EXISTS voltage_level VARCHAR ; update ukpn_overhead_lines_medium SET voltage_level = 'M' ;",
            "subdirectory": "vector/33kv-overhead-lines",
            "ogr2ogrOptions": {
                "otherOptions": {
                    "-nlt": [
                        "MULTILINESTRING"
                    ]
                }
            },
            "geoServerSettings": {
                "virtualTable": {
                    "name": "ukpn_overhead_lines_medium",
                    "sql": "SELECT wkb_geometry, line_colour, line_width FROM ukpn_overhead_lines_medium, ukpn_line_styling WHERE ukpn_overhead_lines_medium.voltage_level = ukpn_line_styling.voltage_level",
                    "escapeSql": false,
                    "geometry": {
                        "name": "wkb_geometry",
                        "type": "MultiLineString",
                        "srid": 4326
                    }
                },
                "defaultStyle": "the_world_avatar:overhead-lines"
            }
        },
        {
            "type": "vector",
            "skip": false,
            "table": "ukpn_poles_towers_high",
            "sql": "ALTER TABLE ukpn_poles_towers_high ADD COLUMN IF NOT EXISTS voltage_level VARCHAR ; UPDATE ukpn_poles_towers_high SET voltage_level = 'H' ;",
            "subdirectory": "vector/132kv-poles-towers",
            "geoServerSettings": {
                "virtualTable": {
                    "name": "ukpn_poles_towers_high",
                    "sql": "SELECT wkb_geometry, pylon_icon, icon_size FROM ukpn_poles_towers_high, ukpn_line_styling WHERE ukpn_poles_towers_high.voltage_level = ukpn_line_styling.voltage_level",
                    "escapeSql": false,
                    "geometry": {
                        "name": "wkb_geometry",
                        "type": "Point",
                        "srid": 4326
                    }
                },
                "defaultStyle": "the_world_avatar:poles-towers"
            }
        },
        {
            "type": "vector",
            "skip": false,
            "table": "ukpn_overhead_lines_high",
            "subdirectory": "vector/132kv-overhead-lines",
            "sql": "ALTER TABLE ukpn_overhead_lines_high ADD COLUMN IF NOT EXISTS voltage_level VARCHAR ; update ukpn_overhead_lines_high SET voltage_level = 'H' ;",
            "ogr2ogrOptions": {
                "otherOptions": {
                    "-nlt": [
                        "MULTILINESTRING"
                    ]
                }
            },
            "geoServerSettings": {
                "virtualTable": {
                    "name": "ukpn_overhead_lines_high",
                    "sql": "SELECT wkb_geometry, line_colour, line_width FROM ukpn_overhead_lines_high, ukpn_line_styling WHERE ukpn_overhead_lines_high.voltage_level = ukpn_line_styling.voltage_level",
                    "escapeSql": false,
                    "geometry": {
                        "name": "wkb_geometry",
                        "type": "MultiLineString",
                        "srid": 4326
                    }
                },
                "defaultStyle": "the_world_avatar:overhead-lines"
            }
        }
    ],
    "mappings": [
        "ukpn_ontop.obda"
    ],
    "styles": [
        {
            "name": "poles-towers",
            "file": "poles-towers.sld"
        },
        {
            "name": "overhead-lines",
            "file": "overhead-lines.sld"
        }
    ],
    "staticGeoServerData": {
        "iconsDir": "icons"
    }
}