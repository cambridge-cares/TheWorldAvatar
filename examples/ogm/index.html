
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A knowledge-graph-based digital twin of the world.">
      
      
      
      
        <link rel="prev" href="../sparql/">
      
      
        <link rel="next" href="../dif/">
      
      
      <link rel="icon" href="../../media/twa-logo-blue.svg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Object Graph Mapper (OGM) - The World Avatar</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tbox-level" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="The World Avatar" class="md-header__button md-logo" aria-label="The World Avatar" data-md-component="logo">
      
  <img src="../../media/twa-logo-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The World Avatar
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Object Graph Mapper (OGM)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/cambridge-cares/TheWorldAvatar/tree/main/JPS_BASE_LIB/python_wrapper" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    cambridge-cares/TheWorldAvatar
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  Get Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/res_registry/" class="md-tabs__link">
          
  
  API Documentation

        </a>
      </li>
    
  

    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../python_java/" class="md-tabs__link">
          
  
  Examples

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="The World Avatar" class="md-nav__button md-logo" aria-label="The World Avatar" data-md-component="logo">
      
  <img src="../../media/twa-logo-white.svg" alt="logo">

    </a>
    The World Avatar
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/cambridge-cares/TheWorldAvatar/tree/main/JPS_BASE_LIB/python_wrapper" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    cambridge-cares/TheWorldAvatar
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Get Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Get Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to twa
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../wishlist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bug reports/feature requests
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            API Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Py4j-related
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Py4j-related
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/res_registry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Registry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/res_manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Manager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/jps_gateway/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JPS Gateway
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data Model
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Data Model
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/base_ontology/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BaseOntology
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/utilities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utilities
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    KG Operations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            KG Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/gateway/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gateway
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sparql_client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SparqlClient
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Derived Information Framework
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Derived Information Framework
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/derivation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Derivation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/derivation_client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Derivation Client
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/derivation_agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Derivation Agent
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Logging and Configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Logging and Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/conf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python_java/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python-Java communications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../additional_java_lib/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use additional Java library
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sparql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Perform knowledge graph operations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Object Graph Mapper (OGM)
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Object Graph Mapper (OGM)
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Page contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Page contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tbox-level" class="md-nav__link">
    <span class="md-ellipsis">
      TBox level
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TBox level">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#define-an-ontology-in-pydantic" class="md-nav__link">
    <span class="md-ellipsis">
      Define an ontology (in Pydantic)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#define-a-property-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      Define a property (relationship)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Define a property (relationship)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#object-property" class="md-nav__link">
    <span class="md-ellipsis">
      Object property
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Object property">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transitive-property" class="md-nav__link">
    <span class="md-ellipsis">
      Transitive property
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-property" class="md-nav__link">
    <span class="md-ellipsis">
      Data property
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#define-a-class-concept" class="md-nav__link">
    <span class="md-ellipsis">
      Define a class (concept)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Define a class (concept)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#class-and-subclass" class="md-nav__link">
    <span class="md-ellipsis">
      Class and subclass
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple inheritance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-member-functions-and-class-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Custom member functions and class methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-pydantic-classes-to-triples" class="md-nav__link">
    <span class="md-ellipsis">
      Export Pydantic classes to triples
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#abox-level" class="md-nav__link">
    <span class="md-ellipsis">
      ABox level
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ABox level">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instantiate-an-object-in-python" class="md-nav__link">
    <span class="md-ellipsis">
      Instantiate an object in Python
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#push-new-object-to-triple-store" class="md-nav__link">
    <span class="md-ellipsis">
      Push new object to triple store
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pull-from-triple-store-to-create-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Pull from triple store to create objects
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pull from triple store to create objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#note-when-pulling-instances-with-multiple-rdftype-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      NOTE when pulling instances with multiple rdf:type definitions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-existing-objects-in-triple-store" class="md-nav__link">
    <span class="md-ellipsis">
      Update existing objects in triple store
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revert-local-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Revert local changes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes-for-future-development" class="md-nav__link">
    <span class="md-ellipsis">
      Notes for future development
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dif/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Derived Information Framework (DIF)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Object Graph Mapper (OGM)</h1>

<p><code>twa</code> package provides an implementation of Object Graph Mapper (OGM) using <a href="https://github.com/pydantic/pydantic">Pydantic</a> to model the objects in Python memory which provides type validation, as well as <a href="https://github.com/RDFLib/rdflib">rdflib</a> to host the objects in their triple format which can then be connected to a triple store using <code>twa.PySparqlClient</code>.</p>
<p>Below we provide minimal working example of how to use the OGM.</p>
<h2 id="tbox-level">TBox level<a class="headerlink" href="#tbox-level" title="Permanent link">&para;</a></h2>
<h3 id="define-an-ontology-in-pydantic">Define an ontology (in Pydantic)<a class="headerlink" href="#define-an-ontology-in-pydantic" title="Permanent link">&para;</a></h3>
<p>To begin with, you can define the ontology that hosts all concepts and relationships as below:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># Import relevant packages</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">from</span> <span class="nn">twa.data_model.base_ontology</span> <span class="kn">import</span> <span class="n">BaseOntology</span><span class="p">,</span> <span class="n">BaseClass</span><span class="p">,</span> <span class="n">ObjectProperty</span><span class="p">,</span> <span class="n">DatatypeProperty</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="kn">from</span> <span class="nn">twa.data_model.iris</span> <span class="kn">import</span> <span class="n">TWA_BASE_URL</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">ClassVar</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">Field</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="c1"># Your ontology needs to inherit the BaseOntology class</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="k">class</span> <span class="nc">YourOntology</span><span class="p">(</span><span class="n">BaseOntology</span><span class="p">):</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="c1"># Below fields can be set up to provide metadata for your ontology</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="n">base_url</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">TWA_BASE_URL</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="n">namespace</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;yourontology&#39;</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="n">owl_versionInfo</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;0.0.1&#39;</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="n">rdfs_comment</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Your ontology&#39;</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="c1"># Since they are already defined as a ClassVar[str], one can just assign value to it</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="c1"># i.e., simplified version:</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>    <span class="c1"># ```</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    <span class="c1"># base_url = TWA_BASE_URL</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    <span class="c1"># namespace = &#39;yourontology&#39;</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>    <span class="c1"># owl_versionInfo = &#39;0.0.1&#39;</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>    <span class="c1"># rdfs_comment = &#39;Your ontology&#39;</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>    <span class="c1"># ```</span>
</code></pre></div>
<p>which is equivalent to the below triples in OWL:</p>
<div class="language-turtle highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">@prefix</span><span class="w"> </span><span class="nn">owl:</span><span class="w"> </span><span class="nv">&lt;http://www.w3.org/2002/07/owl#&gt;</span><span class="w"> </span><span class="p">.</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">@prefix</span><span class="w"> </span><span class="nn">rdfs:</span><span class="w"> </span><span class="nv">&lt;http://www.w3.org/2000/01/rdf-schema#&gt;</span><span class="w"> </span><span class="p">.</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="k">@prefix</span><span class="w"> </span><span class="nn">xsd:</span><span class="w"> </span><span class="nv">&lt;http://www.w3.org/2001/XMLSchema#&gt;</span><span class="w"> </span><span class="p">.</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="nv">&lt;https://www.theworldavatar.com/kg/yourontology&gt;</span> <span class="kt">a</span> <span class="nn">owl</span><span class="p">:</span><span class="nt">Ontology</span> <span class="p">;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    <span class="nn">rdfs</span><span class="p">:</span><span class="nt">comment</span> <span class="s">&quot;Your ontology&quot;</span> <span class="p">;</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    <span class="nn">owl</span><span class="p">:</span><span class="nt">versionInfo</span> <span class="s">&quot;0.0.1&quot;</span> <span class="p">.</span>
</code></pre></div>
<p>For simplicity, <code>&lt;https://www.theworldavatar.com/kg/yourontology/&gt;</code> (<strong>Note the <code>/</code> at the end!!!</strong>) will be replaced as prefix <code>yo</code> in the rest of this page:
<div class="language-turtle highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">@prefix</span><span class="w"> </span><span class="nn">yo:</span><span class="w"> </span><span class="nv">&lt;https://www.theworldavatar.com/kg/yourontology/&gt;</span><span class="w"> </span><span class="p">.</span>
</code></pre></div></p>
<blockquote>
<p>NOTE: if you wish to develop this in a Jupyter notebook, you might find it helpful to set the ontology to development mode using <code>YourOntology.set_dev_mode()</code>, which will allow you re-run the cell once you made changes to your classes/properties without throwing an "class already registered" error. Once you are happy with your ontology and wish to switch back to production mode, you may do this via <code>YourOntology.set_prod_mode()</code>.</p>
</blockquote>
<h3 id="define-a-property-relationship">Define a property (relationship)<a class="headerlink" href="#define-a-property-relationship" title="Permanent link">&para;</a></h3>
<p>To define custom object and data properties, the two base classes <code>ObjectProperty</code> and <code>DatatypeProperty</code> should be used respectively. It should be noted that the user is only required to specify the cardinality of these properties at the class defination, as their <code>rdfs:domain</code> and <code>rdfs:range</code> will be automatically handled by the class that utilises the defined properties.</p>
<h4 id="object-property">Object property<a class="headerlink" href="#object-property" title="Permanent link">&para;</a></h4>
<p>To define a custom object property:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">PointsToAnotherConcept</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="o">.</span><span class="n">create_from_base</span><span class="p">(</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>    <span class="n">class_name</span> <span class="o">=</span> <span class="s1">&#39;PointsToAnotherConcept&#39;</span><span class="p">,</span> <span class="c1"># The name of the class that will be created and can be directly accessed in code</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>    <span class="n">ontology</span> <span class="o">=</span> <span class="n">YourOntology</span><span class="p">,</span> <span class="c1"># The user MUST provide the ontology for which the concept `rdfs_isDefinedBy`</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="n">min_cardinality</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="c1"># 0 is the default value, indicates no cardinality restriction (this arg can be omitted)</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    <span class="n">max_cardinality</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="c1"># None is the default value, indicates no cardinality restriction (this arg can be omitted)</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="p">)</span>
</code></pre></div>
<p>The above definition is equivalent to the below if one would like to follow the typical way of defining a class:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">class</span> <span class="nc">PointsToAnotherConcept</span><span class="p">(</span><span class="n">ObjectProperty</span><span class="p">):</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    <span class="n">rdfs_isDefinedBy</span> <span class="o">=</span> <span class="n">YourOntology</span> <span class="c1"># `rdfs_isDefinedBy` can be directly assigned a value here</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    <span class="c1"># 0 and None in the previous cell indicate no cardinality restriction</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    <span class="c1"># They are also the default value so you can omitted them here</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    <span class="c1"># However, if you do want to provide such value then follow the below two lines:</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    <span class="c1"># ```</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    <span class="c1"># owl_minQualifiedCardinality = 0</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>    <span class="c1"># owl_maxQualifiedCardinality = None</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>    <span class="c1"># ```</span>
</code></pre></div>
<p>which is equivalent to the below triples in OWL:</p>
<div class="language-turtle highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nn">yo</span><span class="p">:</span><span class="nt">PointsToAnotherConcept</span> <span class="kt">a</span> <span class="nn">owl</span><span class="p">:</span><span class="nt">ObjectProperty</span> <span class="p">;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    <span class="nn">rdfs</span><span class="p">:</span><span class="nt">domain</span> <span class="nn">yo</span><span class="p">:</span><span class="nt">OneConcept</span> <span class="p">;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    <span class="nn">rdfs</span><span class="p">:</span><span class="nt">isDefinedBy</span> <span class="nv">&lt;https://www.theworldavatar.com/kg/yourontology&gt;</span> <span class="p">;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    <span class="nn">rdfs</span><span class="p">:</span><span class="nt">range</span> <span class="nn">yo</span><span class="p">:</span><span class="nt">AnotherConcept</span> <span class="p">.</span>
</code></pre></div>
<p>To access the IRI of the defined objective property:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">PointsToAnotherConcept</span><span class="o">.</span><span class="n">predicate_iri</span>
</code></pre></div>
<p>To define a property that is subproperty of another property:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">AnExampleOfSubProperty</span> <span class="o">=</span> <span class="n">PointsToAnotherConcept</span><span class="o">.</span><span class="n">create_from_base</span><span class="p">(</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>    <span class="n">class_name</span> <span class="o">=</span> <span class="s1">&#39;AnExampleOfSubProperty&#39;</span><span class="p">,</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    <span class="n">ontology</span> <span class="o">=</span> <span class="n">YourOntology</span><span class="p">,</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    <span class="n">min_cardinality</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="c1"># if this value is provided then it overwrites the value from the calling class `PointsToAnotherConcept`</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    <span class="n">max_cardinality</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="c1"># if this value is provided then it overwrites the value from the calling class `PointsToAnotherConcept`</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="p">)</span>
</code></pre></div>
<p>Further subclassing by calling <code>AnExampleOfSubProperty.create_from_base(...)</code> is also possible.</p>
<blockquote>
<p>NOTE that the statements about <code>rdfs:domain</code> and <code>rdfs:range</code> will be automatically added when defining concept that uses this object property, e.g. assume <code>OneConcept</code> uses this object property on <code>AnotherConcept</code>, then we have triples: <code>yo:PointsToAnotherConcept rdfs:domain yo:OneConcept ; rdfs:range yo:AnotherConcept .</code></p>
<p>NOTE for multiple concepts as domain of the same object property, e.g. assume both <code>OneConcept</code> and <code>SubConcept</code> are the domain, then a <a href="https://www.w3.org/TR/turtle/#BNodes">Blank Node</a> of <code>owl:Class</code> will be added: <code>yo:pointsToAnotherConcept rdfs:domain [ a owl:Class ; owl:unionOf ( yo:OneConcept yo:SubConcept ) ] ;</code></p>
</blockquote>
<h5 id="transitive-property">Transitive property<a class="headerlink" href="#transitive-property" title="Permanent link">&para;</a></h5>
<p>Transitive property is a specific type of object property, it can be very useful for representing <a href="https://www.w3.org/2001/sw/BestPractices/OEP/SimplePartWhole/">part-whole relations</a>. To define a custom transitive property:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">OneTransitiveProperty</span> <span class="o">=</span> <span class="n">TransitiveProperty</span><span class="o">.</span><span class="n">create_from_base</span><span class="p">(</span><span class="s1">&#39;OneTransitiveProperty&#39;</span><span class="p">,</span> <span class="n">YourOntology</span><span class="p">)</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="c1"># Equivalent to:</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="c1"># ```</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1"># class OneTransitiveProperty(TransitiveProperty):</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="c1">#     rdfs_isDefinedBy = YourOntology</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="c1"># ```</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="c1"># Here we also provide the class definition for the concept that makes use of `OneTransitiveProperty`</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="c1"># Please refer to later part of this documentation for more examples on how to define a class</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="k">class</span> <span class="nc">OneClassWithTransitive</span><span class="p">(</span><span class="n">BaseClass</span><span class="p">):</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>    <span class="n">rdfs_isDefinedBy</span> <span class="o">=</span> <span class="n">YourOntology</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>    <span class="c1"># Note that here the range and domain of `OneTransitiveProperty` are both `OneClassWithTransitive`</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>    <span class="n">oneTransitiveProperty</span><span class="p">:</span> <span class="n">OneTransitiveProperty</span><span class="p">[</span><span class="n">OneClassWithTransitive</span><span class="p">]</span>
</code></pre></div>
<p>To access the IRI of the defined transitive property:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">OneClassWithTransitive</span><span class="o">.</span><span class="n">predicate_iri</span>
</code></pre></div>
<p>A convenient member function is provided to retrieve all transitive objects as a <a href="https://docs.python.org/3/tutorial/datastructures.html#sets"><code>set</code></a>:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># Assume we have instantiated an object `one_class_with_transitive` of class `OneClassWithTransitive`</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="c1"># As it uses transitive property `OneTransitiveProperty`, we can retrieve a set of transtive objects by:</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="n">set_of_transitive_objects</span> <span class="o">=</span> <span class="n">OneTransitiveProperty</span><span class="o">.</span><span class="n">obtain_transitive_objects</span><span class="p">()</span>
</code></pre></div>
<h4 id="data-property">Data property<a class="headerlink" href="#data-property" title="Permanent link">&para;</a></h4>
<p>To define a custom data property:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">OneDatatypeProperty</span> <span class="o">=</span> <span class="n">DatatypeProperty</span><span class="o">.</span><span class="n">create_from_base</span><span class="p">(</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>    <span class="s1">&#39;OneDatatypeProperty&#39;</span><span class="p">,</span> <span class="n">YourOntology</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="p">)</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="n">AnotherDatatypeProperty</span> <span class="o">=</span> <span class="n">DatatypeProperty</span><span class="o">.</span><span class="n">create_from_base</span><span class="p">(</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>    <span class="s1">&#39;AnotherDatatypeProperty&#39;</span><span class="p">,</span> <span class="n">YourOntology</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>    <span class="c1"># The cardinality means maximum 1</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="p">)</span>
</code></pre></div>
<p>which is equivalent to the below triples in OWL:</p>
<div class="language-turtle highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nn">yo</span><span class="p">:</span><span class="nt">OneDatatypeProperty</span> <span class="kt">a</span> <span class="nn">owl</span><span class="p">:</span><span class="nt">DatatypeProperty</span> <span class="p">;</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>    <span class="nn">rdfs</span><span class="p">:</span><span class="nt">domain</span> <span class="nn">yo</span><span class="p">:</span><span class="nt">OneConcept</span> <span class="p">;</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>    <span class="nn">rdfs</span><span class="p">:</span><span class="nt">isDefinedBy</span> <span class="nv">&lt;https://www.theworldavatar.com/kg/yourontology&gt;</span> <span class="p">;</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>    <span class="nn">rdfs</span><span class="p">:</span><span class="nt">range</span> <span class="nn">xsd</span><span class="p">:</span><span class="nt">string</span> <span class="p">.</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="nn">yo</span><span class="p">:</span><span class="nt">AnotherDatatypeProperty</span> <span class="kt">a</span> <span class="nn">owl</span><span class="p">:</span><span class="nt">DatatypeProperty</span> <span class="p">;</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>    <span class="nn">rdfs</span><span class="p">:</span><span class="nt">domain</span> <span class="nn">yo</span><span class="p">:</span><span class="nt">AnotherConcept</span> <span class="p">;</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>    <span class="nn">rdfs</span><span class="p">:</span><span class="nt">isDefinedBy</span> <span class="nv">&lt;https://www.theworldavatar.com/kg/yourontology&gt;</span> <span class="p">;</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>    <span class="nn">rdfs</span><span class="p">:</span><span class="nt">range</span> <span class="nn">xsd</span><span class="p">:</span><span class="nt">integer</span> <span class="p">.</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="nn">yo</span><span class="p">:</span><span class="nt">AnotherConcept</span> <span class="nn">rdfs</span><span class="p">:</span><span class="nt">subClassOf</span> <span class="p">[</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>    <span class="kt">a</span> <span class="nn">owl</span><span class="p">:</span><span class="nt">Restriction</span> <span class="p">;</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>    <span class="nn">owl</span><span class="p">:</span><span class="nt">maxQualifiedCardinality</span> <span class="s">&quot;1&quot;</span><span class="p">^^</span><span class="nn">xsd</span><span class="p">:</span><span class="nt">nonNegativeInteger</span> <span class="p">;</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>    <span class="nn">owl</span><span class="p">:</span><span class="nt">onClass</span> <span class="nn">xsd</span><span class="p">:</span><span class="nt">integer</span> <span class="p">;</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>    <span class="nn">owl</span><span class="p">:</span><span class="nt">onProperty</span> <span class="nn">yo</span><span class="p">:</span><span class="nt">AnotherDatatypeProperty</span> <span class="p">]</span> <span class="p">.</span>
</code></pre></div>
<p>To access the IRI of the defined datatype property:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">OneDatatypeProperty</span><span class="o">.</span><span class="n">predicate_iri</span>
</code></pre></div>
<blockquote>
<p>NOTE that the cardinality for <code>AnotherDatatypeProperty</code> will be added as a <a href="https://www.w3.org/TR/turtle/#BNodes">Blank Node</a> of <code>owl:Restriction</code> automatically to <code>AnotherConcept</code> when the class is defined.</p>
</blockquote>
<h3 id="define-a-class-concept">Define a class (concept)<a class="headerlink" href="#define-a-class-concept" title="Permanent link">&para;</a></h3>
<p>The classes can be defined in the normal way as defining Python native classes, with the field being the object/data properties previously defined:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="k">class</span> <span class="nc">OneConcept</span><span class="p">(</span><span class="n">BaseClass</span><span class="p">):</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>    <span class="c1"># Like object/data properties, `rdfs_isDefinedBy` is a compulsory field</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>    <span class="n">rdfs_isDefinedBy</span> <span class="o">=</span> <span class="n">YourOntology</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>    <span class="c1"># Follow format `myDatatypeProperty: MyDatatypeProperty[str]`</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>    <span class="n">oneDatatypeProperty</span><span class="p">:</span> <span class="n">OneDatatypeProperty</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>    <span class="c1"># Follow format `myObjectProperty: MyObjectProperty[MyOtherClass]`</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>    <span class="n">pointsToAnotherConcept</span><span class="p">:</span> <span class="n">PointsToAnotherConcept</span><span class="p">[</span><span class="n">AnotherConcept</span><span class="p">]</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="k">class</span> <span class="nc">AnotherConcept</span><span class="p">(</span><span class="n">BaseClass</span><span class="p">):</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>    <span class="n">rdfs_isDefinedBy</span> <span class="o">=</span> <span class="n">YourOntology</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>    <span class="n">anotherDatatypeProperty</span><span class="p">:</span> <span class="n">AnotherDatatypeProperty</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</code></pre></div>
<p>To access the <code>rdf:type</code> of the defined class:
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">OneConcept</span><span class="o">.</span><span class="n">rdf_type</span>
</code></pre></div></p>
<blockquote>
<p>NOTE that the name of field <strong>CAN NOT</strong> be the same as the name of the corresponding Pydantic class it is referring to, i.e. <code>AnotherDatatypeProperty: AnotherDatatypeProperty</code> would be invalid.</p>
</blockquote>
<h4 id="class-and-subclass">Class and subclass<a class="headerlink" href="#class-and-subclass" title="Permanent link">&para;</a></h4>
<p>The subclass relationship <code>rdfs:subClassOf</code> can also be defined following the standard practice, e.g. we define a concept <code>SubConcept</code> <code>rdfs:subClassOf</code> <code>OneConcept</code>:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">AdditionalDatatypeProperty</span> <span class="o">=</span> <span class="n">DatatypeProperty</span><span class="o">.</span><span class="n">create_from_base</span><span class="p">(</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>    <span class="s1">&#39;AdditionalDatatypeProperty&#39;</span><span class="p">,</span> <span class="n">YourOntology</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="p">)</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="k">class</span> <span class="nc">SubConcept</span><span class="p">(</span><span class="n">OneConcept</span><span class="p">):</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>    <span class="c1"># As it inherits `OneConcept`, only additional object/data properties are required</span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>    <span class="n">additionalDatatypeProperty</span><span class="p">:</span> <span class="n">AdditionalDatatypeProperty</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</code></pre></div>
<h4 id="multiple-inheritance">Multiple inheritance<a class="headerlink" href="#multiple-inheritance" title="Permanent link">&para;</a></h4>
<p>Multiple inheritance is also possible:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">YetAnotherDatatypeProperty</span> <span class="o">=</span> <span class="n">DatatypeProperty</span><span class="o">.</span><span class="n">create_from_base</span><span class="p">(</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>    <span class="s1">&#39;YetAnotherDatatypeProperty&#39;</span><span class="p">,</span> <span class="n">YourOntology</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="p">)</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="k">class</span> <span class="nc">YetAnotherConcept</span><span class="p">(</span><span class="n">BaseClass</span><span class="p">):</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>    <span class="n">rdfs_isDefinedBy</span> <span class="o">=</span> <span class="n">YourOntology</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>    <span class="n">yetAnotherDatatypeProperty</span><span class="p">:</span> <span class="n">YetAnotherDatatypeProperty</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="k">class</span> <span class="nc">MultipleInheritanceConcept</span><span class="p">(</span><span class="n">SubConcept</span><span class="p">,</span> <span class="n">YetAnotherConcept</span><span class="p">):</span>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>    <span class="k">pass</span>
</code></pre></div>
<blockquote>
<p>NOTE the use of multiple inheritance is a controversial topic. It is at the developer's discretion to decide whether or not to use this feature. In any case, <a href="https://douroucouli.wordpress.com/2019/05/10/ontotip-single-inheritance-principle-considered-dangerous/">good engineering practice</a> should be followed.</p>
</blockquote>
<h4 id="custom-member-functions-and-class-methods">Custom member functions and class methods<a class="headerlink" href="#custom-member-functions-and-class-methods" title="Permanent link">&para;</a></h4>
<p>One of the benefits of using OGM is that it is easy to relate the data processing logic on the Python side to the data in the Knowledge Graph. To achieve this, one can define custom functions:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">class</span> <span class="nc">YourConcept</span><span class="p">(</span><span class="n">BaseClass</span><span class="p">):</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>    <span class="n">rdfs_isDefinedBy</span> <span class="o">=</span> <span class="n">YourOntology</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>    <span class="c1"># Member functions</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>    <span class="k">def</span> <span class="nf">your_custom_function</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;This is a custom function.&#39;</span><span class="p">)</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>    <span class="c1"># Class methods</span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>    <span class="k">def</span> <span class="nf">your_custom_classmethod</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;This is a custom classmethod of class </span><span class="si">{</span><span class="bp">cls</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="export-pydantic-classes-to-triples">Export Pydantic classes to triples<a class="headerlink" href="#export-pydantic-classes-to-triples" title="Permanent link">&para;</a></h3>
<p>Once the developer is satisfied with the class definitions in Python, there are three ways to export it to the OWL format:</p>
<ul>
<li>
<p>Option 1: Export to a <code>rdflib.Graph</code> object
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">g</span> <span class="o">=</span> <span class="n">YourOntology</span><span class="o">.</span><span class="n">export_to_graph</span><span class="p">()</span>
</code></pre></div></p>
</li>
<li>
<p>Option 2: Export to a file
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">YourOntology</span><span class="o">.</span><span class="n">export_to_owl</span><span class="p">(</span><span class="s1">&#39;your_ontology.ttl&#39;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;turtle&#39;</span><span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>Option 3: Export (upload) to a triple store
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="kn">from</span> <span class="nn">twa.kg_operations</span> <span class="kn">import</span> <span class="n">PySparqlClient</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="n">sparql_endpoint</span> <span class="o">=</span> <span class="s1">&#39;http://localhost:9999/blazegraph/namespace/kb/sparql&#39;</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="n">sparql_client</span> <span class="o">=</span> <span class="n">PySparqlClient</span><span class="p">(</span><span class="n">sparql_endpoint</span><span class="p">,</span> <span class="n">sparql_endpoint</span><span class="p">)</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="n">YourOntology</span><span class="o">.</span><span class="n">export_to_triple_store</span><span class="p">(</span><span class="n">sparql_client</span><span class="p">)</span>
</code></pre></div></p>
</li>
</ul>
<blockquote>
<p>See <a href="../sparql/#instantiation-of-the-pysparqlclient">Instantiation of the <code>PySparqlClient</code></a> for more details on how to instantiate <code>PySparqlClient</code>.</p>
</blockquote>
<h2 id="abox-level">ABox level<a class="headerlink" href="#abox-level" title="Permanent link">&para;</a></h2>
<h3 id="instantiate-an-object-in-python">Instantiate an object in Python<a class="headerlink" href="#instantiate-an-object-in-python" title="Permanent link">&para;</a></h3>
<p>Taking the classes <code>AnotherConcept</code> and <code>OneConcept</code> as an example:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">another_concept</span> <span class="o">=</span> <span class="n">AnotherConcept</span><span class="p">(</span><span class="n">anotherDatatypeProperty</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="n">one_concept</span> <span class="o">=</span> <span class="n">OneConcept</span><span class="p">(</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>    <span class="n">oneDatatypeProperty</span><span class="o">=</span><span class="s1">&#39;this is a data property&#39;</span><span class="p">,</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>    <span class="n">pointsToAnotherConcept</span><span class="o">=</span><span class="n">another_concept</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="p">)</span>
</code></pre></div>
<p>The IRI of the instantiated instance can be accessed via <code>one_concept.instance_iri</code>, e.g. <code>https://www.theworldavatar.com/kg/yourontology/OneConcept_6481d535-160b-43f9-811e-80924daaabe7</code></p>
<h3 id="push-new-object-to-triple-store">Push new object to triple store<a class="headerlink" href="#push-new-object-to-triple-store" title="Permanent link">&para;</a></h3>
<p>Assuming a sparql client is already instantiated, one can push the generated triples to knowledge graph:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="n">g_to_remove</span><span class="p">,</span> <span class="n">g_to_add</span> <span class="o">=</span> <span class="n">one_concept</span><span class="o">.</span><span class="n">push_to_kg</span><span class="p">(</span><span class="n">sparql_client</span><span class="p">,</span> <span class="n">recursive_depth</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>The above call collects all triples related to the objects <code>one_concept</code> and <code>another_concept</code>. This behaviour can be controlled via the <code>recursive_depth</code> flag.</p>
<blockquote>
<p>See <a href="../sparql/#instantiation-of-the-pysparqlclient">Instantiation of the <code>PySparqlClient</code></a> for more details on how to instantiate <code>PySparqlClient</code>.</p>
</blockquote>
<h3 id="pull-from-triple-store-to-create-objects">Pull from triple store to create objects<a class="headerlink" href="#pull-from-triple-store-to-create-objects" title="Permanent link">&para;</a></h3>
<p>For instances stored in the knowledge graph, one can pull it to the Python object with its IRI and the sparql client that is connected to the correct sparql endpoint:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">another_object_of_one_concept</span> <span class="o">=</span> <span class="n">OneConcept</span><span class="o">.</span><span class="n">pull_from_kg</span><span class="p">(</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>    <span class="s1">&#39;https://iri-of-the-object-of-interest&#39;</span><span class="p">,</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>    <span class="n">sparql_client</span><span class="p">,</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>    <span class="n">recursive_depth</span><span class="o">=-</span><span class="mi">1</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>NOTE the pulled objects will be stored in a list.</p>
<p>NOTE the developer should be aware of the <code>recursive_depth</code> that one is using to pull the triples from the knowledge graph.</p>
</blockquote>
<h4 id="note-when-pulling-instances-with-multiple-rdftype-definitions">NOTE when pulling instances with multiple <code>rdf:type</code> definitions<a class="headerlink" href="#note-when-pulling-instances-with-multiple-rdftype-definitions" title="Permanent link">&para;</a></h4>
<p>For instances defined with multiple <code>rdf:type</code>, this pulling function instantiates the Python object using the deepest subclass found in the intersection of the subclasses of the calling class and those specified by <code>rdf:type</code>. If multiple deepest subclasses coexist (e.g., when subclasses from different branches of the inheritance tree are identified), the code raises an error. To prevent this, you can pull the object directly using the desired subclass.</p>
<p>For a concrete example using the class hierarchy below, assume an instance is defined with <code>rdf:type</code> of both class <code>C</code> and <code>E</code>. Pulling this instance using <code>A.pull_from_kg()</code> will result in an error because both <code>C</code> and <code>E</code> are identified as potential classes for instantiation, but they belong to different branches of the inheritance tree. A workaround is to pull the instance explicitly using either class <code>C</code> or <code>E</code>. Alternatively, if a class <code>F</code> exist as subclass of both <code>C</code> and <code>E</code>, pulling the instance with <code>A.pull_from_kg()</code> would succeed, as class <code>F</code> would be identified as the new "deepest" subclass.</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>classDiagram
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>    class A
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>    class B
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>    class C
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>    class D
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>    class E
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>    A &lt;|-- B
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>    B &lt;|-- C
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>    A &lt;|-- D
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>    D &lt;|-- E
</code></pre></div>
<h3 id="update-existing-objects-in-triple-store">Update existing objects in triple store<a class="headerlink" href="#update-existing-objects-in-triple-store" title="Permanent link">&para;</a></h3>
<p>To make changes to the local objects and update it in the triple store:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1"># Examples changes:</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="c1"># Adding a new data property</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="n">one_concept</span><span class="o">.</span><span class="n">oneDatatypeProperty</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;this is a new data property&#39;</span><span class="p">)</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="c1"># Removing the object property</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="n">one_concept</span><span class="o">.</span><span class="n">pointsToAnotherConcept</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">another_concept</span><span class="p">)</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="c1"># Push the changes to the triple store</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="n">one_concept</span><span class="o">.</span><span class="n">push_to_kg</span><span class="p">(</span><span class="n">sparql_client</span><span class="p">,</span> <span class="n">recursive_depth</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>NOTE the range of both object/data property are stored as <code>set</code>, which can be processed using built-in set operations.</p>
<p>NOTE make sure the <code>recursive_depth</code> is specified correctly that all intended changes are pushed to the knowledge graph.</p>
</blockquote>
<h3 id="revert-local-changes">Revert local changes<a class="headerlink" href="#revert-local-changes" title="Permanent link">&para;</a></h3>
<p>Conflicts can arise between local changes and remote updates when the knowledge graph is modified by multiple agents. This is a possible scenario given the distributed nature of our dynamic knowledge graph approach. An analogous situation is code conflicts in a Git repository when multiple people made changes to the same file. To address this, we provide a convenient function for developers to revert local changes:</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="n">one_concept</span><span class="o">.</span><span class="n">revert_local_changes</span><span class="p">()</span>
</code></pre></div>
<h2 id="notes-for-future-development">Notes for future development<a class="headerlink" href="#notes-for-future-development" title="Permanent link">&para;</a></h2>
<ul>
<li>How to generate Python script given an OWL file</li>
<li>Add support for many-to-many cardinality constraints?</li>
<li>Mermaid codes</li>
<li>Type hint for object/datatype properties</li>
<li>Allocate set or single instances when accessing object/datatype properties</li>
<li>Handle rdf:type when it's a class</li>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>